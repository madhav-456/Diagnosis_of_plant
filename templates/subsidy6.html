<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Subsidy Finder | AgroTech</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Font Awesome -->
    <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <!-- Google Font -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f9fafb;
        }

        .hero-gradient {
            background: linear-gradient(135deg, #4ade80 0%, #3b82f6 100%);
        }

        .subsidy-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .scheme-type-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 0.75rem;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            color: white;
        }

        .central-sector {
            background-color: #3b82f6;
        }

        .centrally-sponsored {
            background-color: #8b5cf6;
        }

        .krishonnati {
            background-color: #10b981;
        }
    </style>
</head>

<body>

<!-- ================= NAVBAR ================= -->
<nav class="bg-white shadow-sm fixed w-full z-10">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-16 items-center">
            <div class="flex items-center">
                <i class="fas fa-leaf text-green-500 text-2xl mr-2"></i>
                <span class="text-xl font-bold text-gray-800">
                    Agro<span class="text-green-500">Tech</span>
                </span>
            </div>

            <!-- NAV LINKS -->
            <div class="hidden md:flex space-x-8">
                <!-- ✅ HOME LINK FIXED -->
                <a href="index.html" class="text-gray-500 hover:text-green-500 text-sm font-medium">Home</a>
                <a href="#" class="text-gray-500 hover:text-green-500 text-sm font-medium">Solutions</a>
                <a href="#" class="text-gray-500 hover:text-green-500 text-sm font-medium">Technology</a>
                <a href="#" class="text-gray-500 hover:text-green-500 text-sm font-medium">About</a>
                <a href="#" class="text-gray-500 hover:text-green-500 text-sm font-medium">Contact</a>
            </div>

            <button class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-md text-sm font-medium">
                Get Started
            </button>
        </div>
    </div>
</nav>

<!-- ================= HERO ================= -->
<section class="hero-gradient pt-32 pb-20 text-white">
    <div class="max-w-7xl mx-auto px-4 grid md:grid-cols-2 gap-10 items-center">
        <div>
            <h1 class="text-5xl font-bold mb-6">
                Government <br />
                <span class="text-green-200">Subsidy Finder</span>
            </h1>
            <p class="text-lg opacity-90">
                Discover central & state government agriculture subsidy schemes
                available for Indian farmers.
            </p>
        </div>

        <div class="bg-white rounded-xl p-6 shadow-xl text-gray-800">
            <h3 class="text-2xl font-bold mb-4 text-center">Find Your Subsidies</h3>
            <form id="subsidyForm" class="space-y-4">
                <select id="state" class="w-full border rounded px-3 py-2">
                    <option value="">Select State</option>
                    <option>Andhra Pradesh</option>
                    <option>Karnataka</option>
                    <option>Tamil Nadu</option>
                    <option>Maharashtra</option>
                </select>

                <select id="crop" class="w-full border rounded px-3 py-2">
                    <option value="">Select Crop</option>
                    <option>Rice</option>
                    <option>Wheat</option>
                    <option>Vegetables</option>
                    <option>Fruits</option>
                </select>

                <button class="w-full bg-green-500 hover:bg-green-600 text-white py-2 rounded font-semibold">
                    Find Subsidies
                </button>
            </form>
        </div>
    </div>
</section>

<!-- ================= SEARCH ================= -->
<section class="py-10 bg-gray-50">
    <div class="max-w-4xl mx-auto px-4">
        <input
            id="searchBox"
            type="text"
            placeholder="Search subsidy by name or keyword..."
            class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-green-500"
        />
    </div>
</section>

<!-- ================= RESULTS ================= -->
<section class="py-12 bg-gray-50">
    <div class="max-w-7xl mx-auto px-4">
        <h2 class="text-3xl font-bold text-center mb-10">
            Available <span class="text-green-500">Subsidies</span>
        </h2>

        <div id="subsidyResults" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- Cards injected by JS -->
        </div>
    </div>
</section>

<!-- ================= FOOTER ================= -->
<footer class="bg-gray-800 text-white py-10">
    <div class="max-w-7xl mx-auto px-4 text-center">
        <p class="text-gray-400">
            © 2025 AgroTech. All rights reserved.
        </p>

        <!-- ✅ HOME LINK FIXED IN FOOTER -->
        <div class="mt-4 space-x-6">
            <a href="index.html" class="hover:text-green-400">Home</a>
            <a href="#" class="hover:text-green-400">Privacy</a>
            <a href="#" class="hover:text-green-400">Terms</a>
        </div>
    </div>
</footer>

<!-- ================= SCRIPT ================= -->
<script>
const form = document.getElementById("subsidyForm");
const resultsDiv = document.getElementById("subsidyResults");

form.addEventListener("submit", async (e) => {
    e.preventDefault();

    const state = document.getElementById("state").value;
    const crop = document.getElementById("crop").value;

    const res = await fetch("/api/subsidies", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ state, crop })
    });

    const data = await res.json();

    resultsDiv.innerHTML = "";

    data.schemes.forEach(s => {
        resultsDiv.innerHTML += `
            <div class="bg-white rounded-xl shadow-md p-6">
                <h3 class="text-xl font-bold">${s.name}</h3>
                <p class="text-sm text-gray-500">${s.type}</p>
                <p class="mt-2 text-gray-700">${s.description}</p>
            </div>
        `;
    });
});
</script>
    <script src="{{ url_for('static', filename='js/index.js') }}"></script>


</body>
</html>
